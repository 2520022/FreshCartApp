<section class="products my-3">
  <div class="container">
  <h1 class="w-50 mx-auto text-center border-bottom border-success border-top fw-bold p-2">All Products</h1>
  <input [(ngModel)]="searchInputValue" type="text" placeholder="search by name ...." class="form-control m-3 p-2 w-50 mx-auto">
    <div class="row">
  @for (product of productsData | search : searchInputValue ; track product._id) {
  <div class="col-md-2 col-sm-6 p-2" >
    <div class="product p-2 rounded-2" >

  <div [routerLink]="['/products' ]">
    <div class="product-img">
      <img [src]="product.imageCover" class="rounded w-100" [alt]="product.title">
      </div>
      <div class="product-caption ">
      <h2 class="fs-6 text-main ">{{product.category.name | uppercase}} </h2>
      <h1 class="fs-6 fw-bold">{{product.title.split (' ' )| slice  : 0 : 2}} </h1>

      <div class="d-flex justify-content-between align-items-center">
      <span>{{product.price}}</span>
      <!-- <span><i class="fa-solid fa-star rating-color"></i>{{product.ratingsAverage}}</span> -->
      <div class="small">
        @for (star of [1,2,3,4,5].slice(0 , product.ratingsAverage) ; track $index)
        {<span><i class="fa-solid fa-star rating-color"></i></span>}
        @if ( product.ratingsAverage%1 !=0 ) {<i
            class="fa-solid fa-star-half rating-color"></i>}
        <span>{{product.ratingsAverage}}</span>
      </div>

      </div>
      <div class="ms-auto">
        <span><i (click)="addWishlistItem(product.id)" class=" fs-4 fa-solid fa-heart"></i></span>
        </div>
      </div>


  </div>



  <button (click)="addCartItem(product.id)" class="btn-main d-flex mx-auto">Add to cart +</button>
    </div>

  </div>
  }

  </div>
  </div>
  </section>

