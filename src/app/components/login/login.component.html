<section class="bg-main-light p-2 rounded-2 w-75 mx-auto shadow my-3">
  <h1 class="text-main">login  Now:</h1>
@if (resText) {<p class="alert alert-danger p-2 text-center rounded w-50 mx-auto">{{resText}}</p>}
  <form [formGroup]="loginForm" (ngSubmit)="loginUser()">



  <div class="my-2">
  <label class="mb-1" for="email"> <span class="text-danger">*</span> email:</label>
  <input [ngClass]="{'is-valid':!loginForm.get('email')?.errors && (loginForm.get('email')?.touched  || loginForm.get('email')?.dirty) ,
  'is-invalid':loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)}"
  formControlName="email" type="email" placeholder="ex:yousra@gmail.com" id="email" class="form-control">

  @if (loginForm.get('email')?.errors && loginForm.get('email')?.touched) {
    <div class="alert alert-warning p-2 rounded-2 my-2 fs-6 fs-bold">
  @if (loginForm.get('email')?.getError('required')){<p>email is required</p>}
  @else if (loginForm.get('email')?.getError('email')) {<p>email format not correct </p>}
    </div>
  }

  </div>
  <div class="my-2">
  <label class="mb-1" for="password"> <span class="text-danger">*</span> password:</label>
  <input [ngClass]="{'is-valid':!loginForm.get('password')?.errors && (loginForm.get('password')?.touched  || loginForm.get('password')?.dirty) ,
  'is-invalid':loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)}"
   formControlName="password" type="password" placeholder="ex:1233" id="password" class="form-control">

  @if (loginForm.get('password')?.errors && loginForm.get('password')?.touched ) {
  <div class="alert alert-warning p-2 rounded-2 my-2 fs-6 fs-bold">
  @if (loginForm.get('password')?.getError('required')) {<p>password is required</p>}
  @else if (loginForm.get('password')?.getError('pattern')) {<p>password must be at least 6  </p>}
  </div>
  }
  </div>



  <div  class="d-flex justify-content-center my-3 align-items-between">
    <p ><a class="forget" routerLink="/forgot-password">Forgot your password?</a></p>

  <button [disabled]="loginForm.invalid" type="submit" class=" w-25 btn-main ms-auto d-block">login
    @if (loading) {<span><i class="fa-solid fa-circle-notch fa-spin"></i></span>}
  </button>

  </div>


</form>
  </section>

